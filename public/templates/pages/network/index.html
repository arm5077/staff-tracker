<div id="network" ng-controller="networkController">


	<div class="header" header>
		<i class="fa fa-arrow-circle-left" back-button></i>
		<a href="#/"><i class="fa fa-home"></i></a>
		
		<div class="title">
			<strong>{{ name }}</strong>: Campaign staff history
		</div>
		
		<div class ="portrait">
			<img ng-src="/img/{{ name.substr(name.indexOf(' ')+1,100) }}.png" />
		</div>
		
		<div class = "info">
			<div class="item">
				<div class="data">
					{{ years[0].employers[0].staffers.length }}
				</div>
				<div class="label">
					Number of senior staffers
				</div>
			</div>
			<div class="item">
				<div style="display:inline-block">
				<div class="data formerEmployer" ng-repeat="name in biggestEmployer.split(' ')">
					{{ name }}
				</div>
				</div>
				<div class="label">
					Most common previous job
				</div>
			</div>
		</div>
		
	</div>

	<div class = "list" ng-class="{ hidden: showList == false }" scroll-watch="{from: 0, to: 2000}" sw-class="{floating: $positive >= headerHeight}" >
		<div class="title">Senior 2016 staff</div>
		<ul>
			<li ng-repeat="staffer in staff" ng-mouseover="filterCountsByName(staffer.name);" ng-mouseout="filterCountsByLastSelected()" ng-class="{selected: staffer.selected == true}" ng-click="toggleSelected(staffer)">
				{{ staffer.name }}
				<a ng-href="#/staffer/{{staffer.name}}" ><i class="fa fa-list-alt"></i></a>
			</li>
		</ul>
		<div class="clear" ng-show="staff != fullList" ng-click="clearEmployerSelection(); previouslySelected.length = 0; staff = fullList;">Clear selection</div>
		<div class="spacer"></div>
	</div>

	
	<div class = "network" ng-class="{ partial: showList == true }">


		<div class="sectionHeader">
		 	History of campaign staff
		</div>
		
		<div class="year" ng-repeat="year in years" ng-click="">
			<div label class="label">{{ year.year }}</div>
			
			<div class="clusters" ng-if="year.employers.filter(filterClusters).length > 0" ng-class="{centered: year.employers.filter(filterSingles).length == 0 }">
				<div class="employer" ng-repeat="employer in year.employers" ng-if="employer.staffers.length > 1" ng-class="{selected: employer.selected == true, faded: employer.selected == false }">
					<div class = "count" ng-click="toggleListSelected(employer,year)">{{ employer.staffers.length }}</div>
					<a  ng-if="year.year == 2016" ng-href="#/network/{{ employer.employer }}"><div class = "name">{{ employer.employer }}</div></a>
					<a  ng-if="year.year != 2016" ng-href="#/organization/{{ employer.employer }}"><div class = "name">{{ employer.employer }}</div></a>
				</div>
			
			</div>
			
			<div class="singles" ng-if="year.employers.filter(filterSingles).length > 0" ng-class="{centered: year.employers.filter(filterClusters).length == 0 }">
				<div class="employer" ng-repeat="employer in year.employers" ng-if="employer.staffers.length == 1" ng-class="{selected: employer.selected == true, faded: employer.selected == false }">
					<table>
						<tr>
							<td class="count" ng-click="toggleListSelected(employer,year)">
								<div class="circle">1</div>
							</td>
							<td>
									<a ng-href="#/organization/{{ employer.employer }}"><div class="name">{{ employer.employer }}</div></a>
							</td>
						</tr>
					</table>
				</div>
			</div>
			
			
		
		</div>
	
	</div>
	

</div>