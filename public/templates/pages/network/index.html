<div id="network">


	<div class="header" header>
		<div class="social">
			<i class="fa fa-arrow-circle-left" back-button></i>
			<a href="#/"><i class="fa fa-home"></i></a>
		</div>
		<strong>TwentySixteen</strong> campaign staffer tracker
	</div>


		<div class="lead-title">Who's working for <strong>{{name}}</strong> in 2016?</div>
		<div class="data">
			<table>
				<thead>
					<th class="cap"></th>
					<th>Staffer</th>
					<th class="number">Position</th>
					<th>Last job</th>
					<th class="cap"></th>
				</thead>
				<tbody>
					<tr ng-repeat="staffer in staffers">
						<td class="cap"></td>
						<td><strong><a ng-href="#/staffer/{{staffer.name}}">{{staffer.name}}</strong></td>
						<td class="position">{{staffer.position}}</td>
						<td><a href="#/organization/{{staffer.employers[1].name}}">{{staffer.employers[0].name}}</a></td>
						<td class="cap"></td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="lead-title">Where have they worked before?</div>
		<div class="map">
			<div class="clusters centered" ng-if="employers.filter(filterClusters).length > 0">
				<div class="employer" ng-repeat="employer in employers" ng-if="employer.staffers.length > 1" ng-mouseover="$parent.orgFilter.filter=name">
					<a ng-href="#/organization/{{ employer.name }}">
						<div class = "count">{{ employer.staffers.length }}</div>
						<div class = "name">{{ employer.name }}</div>
					</a>
				</div>
			</div>

			<div class="singles centered" ng-if="employers.filter(filterSingles).length > 0" ng-click="$parent.orgFilter=name">
				<div class="employer" ng-repeat="employer in employers" ng-if="employer.staffers.length == 1">
					<a ng-href="#/organization/{{ employer.name }}">
					<table>
						<tr>
							<td class="count">
								<div class="circle">1</div>
							</td>
							<td>
								<div class="name">{{ employer.name }}</div>
							</td>
						</tr>
					</table>
					</a>
				</div>
			</div>
		</div>

	
	<div class = "mobile">
		
		<div class = "mobile-year" ng-repeat="year in years">
			<div class="mobile-label">{{year.year }}</div>
			<div class="mobile-employer" ng-repeat="employer in year.employers">
				<div class="head">
					<!-- If this is the first result (ie, the current candidate), deactivate org page link -->
					<a ng-if="$parent.$index==0">
						<div class="mobile-count">{{ employer.staffers.length }}</div>
						<div class="mobile-name">{{employer.employer}}</div>
					</a>
					<a ng-if="$parent.$index > 0" ng-href="#/organization/{{ employer.employer }}">
						<div class="mobile-count">{{ employer.staffers.length }}</div>
						<div class="mobile-name">{{employer.employer}}</div>
					</a>
					
					<div class="mobile-toggle" ng-click="employer.mobileShow = !employer.mobileShow"><i class="fa" ng-class="{ 'fa-minus-circle': employer.mobileShow, 'fa-plus-circle': !employer.mobileShow}"></i></div>
				</div>
				<div class="mobile-employees" ng-class="{show: employer.mobileShow }" >
					<a ng-href="#/staffer/{{staffer}}" ng-repeat="staffer in employer.staffers">
						<div class="mobile-employee" >
							{{staffer}}
						</div>
					</a>
				</div>
			</div>
		</div>

	</div>

</div>